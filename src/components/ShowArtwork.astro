---
export interface Props {
  image: string;
}

const { image } = Astro.props;
---

<a href="/" aria-label="Homepage">
  <div class="px-4 sm:px-6 md:px-4 lg:px-16">
    <div class="atropos show-art">
      <div class="atropos-scale">
        <div class="atropos-rotate">
          <div class="atropos-inner">
            <div
              class="relative mx-auto block w-48 overflow-hidden rounded-lg sm:w-64 sm:rounded-xl lg:w-auto lg:rounded-2xl"
            >
              <img
                class="w-full"
                src={image}
                alt=""
                height="321"
                width="321"
                loading="eager"
                fetchpriority="high"
              />
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</a>

<script>
  // Defer Atropos initialization to after LCP
  function initAtropos() {
    import('atropos').then((module) => {
      const Atropos = module.default;
      Atropos({
        el: '.show-art'
      });
    });
  }

  // Initialize after page load to avoid blocking LCP
  if (document.readyState === 'complete') {
    initAtropos();
  } else {
    window.addEventListener('load', initAtropos);
  }
</script>
